import{a as H,b as j}from"./chunk-O424JL4V.js";import{a as z,b as U}from"./chunk-E4SL4NQR.js";import{c as N,d as V,g as B,h as L}from"./chunk-Z364KTRN.js";import{j as E,l as I,m as A,o as F,q as W,r as q,s as D}from"./chunk-DFYNJMLI.js";import"./chunk-TW4MKDRA.js";import{r as v,s as S}from"./chunk-3YGUWUUY.js";import{a as x,b as T}from"./chunk-NMIQV5RM.js";import{Cd as h,Eb as l,Ia as a,Ib as p,Jb as _,Kb as s,Rd as k,Sa as P,Sd as w,Ya as f,Z as g,_ as u,db as c,mb as i,nb as o,rc as O,sb as b,ub as C,vb as M,vc as y}from"./chunk-NQGTOHWB.js";function Y(m,d){m&1&&(i(0,"tr")(1,"th",29),l(2,"Medicine *"),o(),i(3,"th",30),l(4,"HSN No"),o(),i(5,"th",30),l(6,"Batch No *"),o(),i(7,"th",30),l(8,"EXP Date *"),o(),i(9,"th",30),l(10,"Quantity *"),o(),i(11,"th",30),l(12,"Action"),o()())}function Z(m,d){if(m&1){let r=b();i(0,"tr")(1,"td")(2,"p-dropdown",31),s("ngModelChange",function(t){let e=g(r).$implicit;return _(e.medicine_id,t)||(e.medicine_id=t),u(t)}),C("onChange",function(){let t=g(r),e=t.$implicit,R=t.rowIndex,X=M(2);return u(X.onMedicineChange(R,e.medicine_id))}),o()(),i(3,"td")(4,"input",32),s("ngModelChange",function(t){let e=g(r).$implicit;return _(e.hsn_no,t)||(e.hsn_no=t),u(t)}),o()(),i(5,"td")(6,"input",33),s("ngModelChange",function(t){let e=g(r).$implicit;return _(e.batch_no,t)||(e.batch_no=t),u(t)}),o()(),i(7,"td")(8,"p-calendar",34),s("ngModelChange",function(t){let e=g(r).$implicit;return _(e.exp_date,t)||(e.exp_date=t),u(t)}),o()(),i(9,"td")(10,"p-inputNumber",35),s("ngModelChange",function(t){let e=g(r).$implicit;return _(e.quantity,t)||(e.quantity=t),u(t)}),o()(),i(11,"td")(12,"p-button",36),C("onClick",function(){let t=g(r).rowIndex,e=M(2);return u(e.removeMedicine(t))}),o()()()}if(m&2){let r=d.$implicit,n=M(2);a(2),p("ngModel",r.medicine_id),c("options",n.medicineOptions)("required",!0)("appendTo","body"),a(2),p("ngModel",r.hsn_no),a(2),p("ngModel",r.batch_no),c("required",!0),a(2),p("ngModel",r.exp_date),c("required",!0)("showIcon",!0)("appendTo","body"),a(2),p("ngModel",r.quantity),c("required",!0)("min",1),a(2),c("text",!0)("rounded",!0)("pTooltip","Remove")}}function G(m,d){m&1&&(i(0,"tr")(1,"td",37),l(2,'No medicines added. Click "+ Add Medicine" to add.'),o()())}function J(m,d){if(m&1&&(i(0,"div",24)(1,"p-table",25),f(2,Y,13,0,"ng-template",26)(3,Z,13,17,"ng-template",27)(4,G,3,0,"ng-template",28),o()()),m&2){let r=M();a(),c("value",r.stockForm.medicines)("scrollable",!0)}}function K(m,d){m&1&&(i(0,"div",38)(1,"p"),l(2,'No medicines added yet. Click "+ Add Medicine" to start adding medicines.'),o()())}var Q=class m{suppliers=[];medicines=[];medicineOptions=[];paymentModes=[];stockForm={supplier_id:void 0,invoice_id:"",invoice_date:void 0,invoice_amount:void 0,payment_mode:void 0,medicines:[]};ngOnInit(){this.loadSuppliers(),this.loadMedicines(),this.loadPaymentModes()}loadPaymentModes(){this.paymentModes=[{label:"Cash",value:"Cash"},{label:"Credit Card",value:"Credit Card"},{label:"Debit Card",value:"Debit Card"},{label:"Net Banking",value:"Net Banking"},{label:"UPI",value:"UPI"},{label:"Cheque",value:"Cheque"},{label:"Bank Transfer",value:"Bank Transfer"},{label:"Credit",value:"Credit"},{label:"Other",value:"Other"}]}loadSuppliers(){this.suppliers=[{pharmacy_supplier_id:1,supplier_code:"SUP001",supplier_name:"ABC Pharmaceuticals",is_active:!0},{pharmacy_supplier_id:2,supplier_code:"SUP002",supplier_name:"XYZ Medical Supplies",is_active:!0},{pharmacy_supplier_id:3,supplier_code:"SUP003",supplier_name:"MediCorp Distributors",is_active:!0}]}loadMedicines(){this.medicines=[{medicition_id:1,medicition_code:"MED001",medicine_type:"Tablet",drug_name:"Paracetamol",label:"MED001 - Paracetamol (Tablet)"},{medicition_id:2,medicition_code:"MED002",medicine_type:"Syrup",drug_name:"Cough Syrup",label:"MED002 - Cough Syrup (Syrup)"},{medicition_id:3,medicition_code:"MED003",medicine_type:"Capsule",drug_name:"Amoxicillin",label:"MED003 - Amoxicillin (Capsule)"},{medicition_id:4,medicition_code:"MED004",medicine_type:"Tablet",drug_name:"Ibuprofen",label:"MED004 - Ibuprofen (Tablet)"}],this.medicineOptions=this.medicines.filter(d=>d.medicition_id!==void 0).map(d=>({label:d.label||`${d.medicition_code} - ${d.drug_name}`,value:d.medicition_id}))}addMedicine(){this.stockForm.medicines.push({medicine_id:void 0,hsn_no:"",batch_no:"",exp_date:void 0,quantity:void 0})}removeMedicine(d){this.stockForm.medicines.splice(d,1)}onMedicineChange(d,r){let n=this.medicines.find(t=>t.medicition_id===r);n&&(this.stockForm.medicines[d].medicine=n)}getMedicineLabel(d){let r=this.medicines.find(n=>n.medicition_id===d);return r?r.label||`${r.medicition_code} - ${r.drug_name}`:""}saveStock(){console.log("Stock Form:",this.stockForm)}static \u0275fac=function(r){return new(r||m)};static \u0275cmp=P({type:m,selectors:[["app-add-stock"]],decls:37,vars:19,consts:[[1,"add-stock-container"],["header","Add Stock"],[1,"form-container"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"field"],["for","supplier"],["id","supplier","optionLabel","supplier_name","optionValue","pharmacy_supplier_id","placeholder","Select Supplier",1,"w-full",3,"ngModelChange","ngModel","options","required"],["for","invoiceId"],["id","invoiceId","type","text","pInputText","","placeholder","Enter Invoice ID",1,"w-full",3,"ngModelChange","ngModel","required"],["for","invoiceDate"],["id","invoiceDate","dateFormat","yy-mm-dd","placeholder","Select Invoice Date",1,"w-full",3,"ngModelChange","ngModel","required","showIcon"],["for","invoiceAmount"],["id","invoiceAmount","mode","decimal","placeholder","Enter Amount",1,"w-full",3,"ngModelChange","ngModel","required","min"],["for","paymentMode"],["id","paymentMode","optionLabel","label","optionValue","value","placeholder","Select Payment Mode",1,"w-full",3,"ngModelChange","ngModel","options","required","appendTo"],[1,"section-header"],["label","+ Add Medicine","icon","pi pi-plus",3,"onClick","outlined"],["class","medicines-table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"form-actions"],["label","Cancel",3,"onClick","text"],["label","Save Stock",3,"onClick"],[1,"medicines-table-container"],["scrollHeight","400px",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","25%"],[2,"width","15%"],["optionLabel","label","optionValue","value","placeholder","Select Medicine",1,"w-full",3,"ngModelChange","onChange","ngModel","options","required","appendTo"],["type","text","pInputText","","placeholder","Enter HSN No",1,"w-full",3,"ngModelChange","ngModel"],["type","text","pInputText","","placeholder","Enter Batch No",1,"w-full",3,"ngModelChange","ngModel","required"],["dateFormat","yy-mm-dd","placeholder","Select Date",1,"w-full",3,"ngModelChange","ngModel","required","showIcon","appendTo"],["mode","decimal","placeholder","Enter Quantity",1,"w-full",3,"ngModelChange","ngModel","required","min"],["icon","pi pi-trash","severity","danger","tooltipPosition","top",3,"onClick","text","rounded","pTooltip"],["colspan","6",2,"text-align","center","padding","20px"],[1,"empty-state"]],template:function(r,n){r&1&&(i(0,"div",0)(1,"p-card",1)(2,"div",2)(3,"div",3)(4,"h3",4),l(5,"Invoice Details"),o(),i(6,"div",5)(7,"div",6)(8,"label",7),l(9,"Supplier *"),o(),i(10,"p-dropdown",8),s("ngModelChange",function(e){return _(n.stockForm.supplier_id,e)||(n.stockForm.supplier_id=e),e}),o()(),i(11,"div",6)(12,"label",9),l(13,"Invoice ID *"),o(),i(14,"input",10),s("ngModelChange",function(e){return _(n.stockForm.invoice_id,e)||(n.stockForm.invoice_id=e),e}),o()(),i(15,"div",6)(16,"label",11),l(17,"Invoice Date *"),o(),i(18,"p-calendar",12),s("ngModelChange",function(e){return _(n.stockForm.invoice_date,e)||(n.stockForm.invoice_date=e),e}),o()(),i(19,"div",6)(20,"label",13),l(21,"Invoice Amount *"),o(),i(22,"p-inputNumber",14),s("ngModelChange",function(e){return _(n.stockForm.invoice_amount,e)||(n.stockForm.invoice_amount=e),e}),o()(),i(23,"div",6)(24,"label",15),l(25,"Payment Mode"),o(),i(26,"p-dropdown",16),s("ngModelChange",function(e){return _(n.stockForm.payment_mode,e)||(n.stockForm.payment_mode=e),e}),o()()()(),i(27,"div",3)(28,"div",17)(29,"h3",4),l(30,"Medicines"),o(),i(31,"p-button",18),C("onClick",function(){return n.addMedicine()}),o()(),f(32,J,5,2,"div",19)(33,K,3,0,"div",20),o(),i(34,"div",21)(35,"p-button",22),C("onClick",function(){return n.stockForm={supplier_id:void 0,invoice_id:"",invoice_date:void 0,invoice_amount:void 0,payment_mode:void 0,medicines:[]}}),o(),i(36,"p-button",23),C("onClick",function(){return n.saveStock()}),o()()()()()),r&2&&(a(10),p("ngModel",n.stockForm.supplier_id),c("options",n.suppliers)("required",!0),a(4),p("ngModel",n.stockForm.invoice_id),c("required",!0),a(4),p("ngModel",n.stockForm.invoice_date),c("required",!0)("showIcon",!0),a(4),p("ngModel",n.stockForm.invoice_amount),c("required",!0)("min",0),a(4),p("ngModel",n.stockForm.payment_mode),c("options",n.paymentModes)("required",!0)("appendTo","body"),a(5),c("outlined",!0),a(),c("ngIf",n.stockForm.medicines.length>0),a(),c("ngIf",n.stockForm.medicines.length===0),a(2),c("text",!0))},dependencies:[y,O,W,E,I,F,A,T,x,h,w,k,U,z,D,q,V,N,j,H,L,B,S,v],styles:['.add-stock-container[_ngcontent-%COMP%]{padding:0}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:20px 0}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--medical-text);margin:0 0 15px;padding-bottom:10px;border-bottom:2px solid var(--medical-border)}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;border:none;padding:0}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:20px}@media (max-width: 1400px){.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1200px){.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--medical-text);font-size:14px;margin-bottom:4px}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:""}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-inputtext, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-dropdown, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-calendar, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-inputnumber{width:100%}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-dropdown .p-inputtext, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-calendar .p-inputtext{width:100%}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     input[required]+label:after, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-dropdown[required]+label:after, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .p-calendar[required]+label:after{content:" *";color:var(--p-danger-color)}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]{margin-top:15px;position:relative}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-wrapper{overflow:visible}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-scrollable-wrapper{overflow:visible}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-scrollable-body{overflow:visible}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-thead>tr>th{background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:var(--medical-text);font-weight:600;padding:12px;border-bottom:2px solid var(--medical-border);text-transform:uppercase;font-size:12px;letter-spacing:.5px}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding:12px;border-bottom:1px solid var(--medical-border);position:relative}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td .p-dropdown, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td .p-calendar, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td .p-inputnumber, .add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td .p-inputtext{width:100%}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr>td .p-dropdown .p-dropdown-panel{z-index:1100!important}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-datatable .p-datatable-tbody>tr:hover{background-color:#f8f9fa}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .medicines-table-container[_ngcontent-%COMP%]     .p-dropdown-panel{z-index:1100!important}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:40px;text-align:center;background-color:#f8f9fa;border-radius:8px;color:var(--medical-text-light);margin-top:15px}.add-stock-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px;padding-top:20px;border-top:1px solid var(--medical-border)}']})};export{Q as AddStockComponent};
